{"ast":null,"code":"import $ from 'jquery';\nimport 'bootstrap';\nimport '@/assets/sidebar/js/main'; // Import your custom script\nimport { mapGetters, mapActions } from \"vuex\";\nexport default {\n  data() {\n    return {\n      isManagementActive: false\n    };\n  },\n  computed: {\n    /* access to getter with mapgetter \r\n     departments : to get departments list\r\n     userRoles : verify roles of this authenticated user \r\n     userPermissions : get the permissions of this user\r\n     authenticated :  verify user authentication\r\n     */\n    ...mapGetters({\n      authenticated: 'auth/authenticated',\n      userRoles: 'user/userRoles',\n      userPermissions: 'user/userPermissions'\n    }),\n    isDepartmentsActive() {\n      return this.$route.path === '/departments';\n    },\n    isUsersActive() {\n      return this.$route.path === '/users';\n    }\n  },\n  mounted() {\n    if (this.authenticated) {\n      this.$store.dispatch('user/getUserRolesPermissions');\n    }\n  },\n  methods: {\n    toggleManagement() {\n      this.isManagementActive = !this.isManagementActive;\n    },\n    hasRole(role) {\n      return this.userRoles.has(role);\n    }\n  }\n};","map":{"version":3,"names":["$","mapGetters","mapActions","data","isManagementActive","computed","authenticated","userRoles","userPermissions","isDepartmentsActive","$route","path","isUsersActive","mounted","$store","dispatch","methods","toggleManagement","hasRole","role","has"],"sources":["D:\\PROJETS\\LARAVEL\\project-forge-front\\src\\components\\SideBar.vue"],"sourcesContent":["<!-- src/components/Sidebar.vue -->\r\n<template>\r\n    <nav v-if=\"authenticated\" id=\"sidebar\">\r\n      <div class=\"p-4 pt-5\">\r\n        <a href=\"#\" class=\"img logo rounded-circle mb-5\" \r\n            :style=\"{backgroundImage: 'url('+require('@/assets/sidebar/images/tasks.png')+')'}\"\r\n            ></a>\r\n        <ul class=\"list-unstyled components mb-5\">\r\n          <li v-if=\"hasRole('admin')\" :class=\"{ active: isManagementActive }\">\r\n            <a href=\"#homeSubmenu\" @click=\"toggleManagement\" aria-expanded=\"false\">\r\n              Management\r\n              <i class=\"fa fa-angle-down\"></i>\r\n            </a>\r\n            <ul class=\"collapse list-unstyled\" :class=\"{ show: isManagementActive }\" id=\"homeSubmenu\">\r\n              <li v-if=\"userPermissions.has('departments-read')\" :class=\"{ active: isDepartmentsActive }\">\r\n                <router-link :to=\"{name: 'departments'} \">Departments</router-link>\r\n              </li>\r\n              <li v-if=\"userPermissions.has('users-read')\" :class=\"{ active: isUsersActive }\">\r\n                <router-link :to=\"{name: 'users'} \">Users</router-link>\r\n              </li>\r\n              <li v-if=\"userPermissions.has('roles-read')\">\r\n                <router-link :to=\"{name: 'roles'} \">Roles</router-link>\r\n              </li>\r\n              <li v-if=\"userPermissions.has('permissions-read')\">\r\n                <router-link :to=\"{name: 'permissions'} \">Permissions</router-link>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n          <li>\r\n            <router-link to=\"/tasks\">Tasks Inbox</router-link>\r\n          </li>\r\n        </ul>\r\n        <div class=\"footer\">\r\n          <p>\r\n            &copy; 2024 All rights reserved | Made with <i class=\"icon-heart\" aria-hidden=\"true\"></i> by <a href=\"#\">rqia</a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  </template>\r\n  \r\n  <script>\r\n  import $ from 'jquery';\r\n  import 'bootstrap';\r\n  import '@/assets/sidebar/js/main'; // Import your custom script\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        isManagementActive: false,\r\n      };\r\n    },\r\n    computed: {\r\n       /* access to getter with mapgetter \r\n        departments : to get departments list\r\n        userRoles : verify roles of this authenticated user \r\n        userPermissions : get the permissions of this user\r\n        authenticated :  verify user authentication\r\n        */\r\n        ...mapGetters({     \r\n            authenticated : 'auth/authenticated',        \r\n            userRoles : 'user/userRoles',\r\n            userPermissions : 'user/userPermissions',\r\n        }),\r\n      isDepartmentsActive() {\r\n        return this.$route.path === '/departments';\r\n      },\r\n      isUsersActive() {\r\n        return this.$route.path === '/users';\r\n      }\r\n    },\r\n    mounted() {\r\n      if(this.authenticated){\r\n        this.$store.dispatch('user/getUserRolesPermissions');\r\n      }\r\n      \r\n    },\r\n    methods: {\r\n      toggleManagement() {\r\n        this.isManagementActive = !this.isManagementActive;\r\n      },\r\n    hasRole(role) {\r\n       return this.userRoles.has(role);\r\n    }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  @import \"~@/assets/sidebar/css/style.css\";\r\n  </style>\r\n  "],"mappings":"AA0CE,OAAOA,CAAA,MAAO,QAAQ;AACtB,OAAO,WAAW;AAClB,OAAO,0BAA0B,EAAE;AACrC,SAASC,UAAU,EAAEC,UAAS,QAAS,MAAM;AAE3C,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,kBAAkB,EAAE;IACtB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACP;;;;;;IAMC,GAAGJ,UAAU,CAAC;MACVK,aAAY,EAAI,oBAAoB;MACpCC,SAAQ,EAAI,gBAAgB;MAC5BC,eAAc,EAAI;IACtB,CAAC,CAAC;IACJC,mBAAmBA,CAAA,EAAG;MACpB,OAAO,IAAI,CAACC,MAAM,CAACC,IAAG,KAAM,cAAc;IAC5C,CAAC;IACDC,aAAaA,CAAA,EAAG;MACd,OAAO,IAAI,CAACF,MAAM,CAACC,IAAG,KAAM,QAAQ;IACtC;EACF,CAAC;EACDE,OAAOA,CAAA,EAAG;IACR,IAAG,IAAI,CAACP,aAAa,EAAC;MACpB,IAAI,CAACQ,MAAM,CAACC,QAAQ,CAAC,8BAA8B,CAAC;IACtD;EAEF,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAAA,EAAG;MACjB,IAAI,CAACb,kBAAiB,GAAI,CAAC,IAAI,CAACA,kBAAkB;IACpD,CAAC;IACHc,OAAOA,CAACC,IAAI,EAAE;MACX,OAAO,IAAI,CAACZ,SAAS,CAACa,GAAG,CAACD,IAAI,CAAC;IAClC;EACA;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}