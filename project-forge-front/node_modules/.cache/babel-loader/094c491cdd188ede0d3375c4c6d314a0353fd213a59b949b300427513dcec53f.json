{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport FlashMessage from \"@/components/FlashMessage.vue\";\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  components: {\n    FlashMessage\n  },\n  data() {\n    return {\n      profileData: {\n        id: '',\n        old_password: '',\n        password: '',\n        password_confirmation: ''\n      }\n    };\n  },\n  computed: {\n    ...mapGetters({\n      'profile': 'profile/profile',\n      'profileError': 'profile/profileError'\n    })\n  },\n  mounted() {\n    this.getProfile();\n  },\n  methods: {\n    ...mapActions({\n      'getProfile': 'profile/getProfile',\n      'updatePassword': 'profile/updatePassword',\n      'setFlashMessage': 'flash/setFlashMessage'\n    }),\n    update() {\n      this.profileData.id = this.profile.id;\n      this.updatePassword(this.profileData).then(() => {\n        if (!this.profileError) {\n          this.setFlashMessage({\n            message: 'Password Updeted Successfully!!',\n            type: 'alert-success'\n          });\n          this.signIn(this.user).then(() => this.$router.push({\n            path: \"/login\"\n          }));\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["FlashMessage","mapActions","mapGetters","components","data","profileData","id","old_password","password","password_confirmation","computed","mounted","getProfile","methods","update","profile","updatePassword","then","profileError","setFlashMessage","message","type","signIn","user","$router","push","path"],"sources":["D:\\PROJETS\\LARAVEL\\project-forge-front\\src\\views\\managment\\profile\\index.vue"],"sourcesContent":["<template  lang=\"\" >\r\n    <FlashMessage ref=\"flashMessage\"></FlashMessage>\r\n    <div class=\"row\" v-if=\"profile\">\r\n        <div v-if=\"profileError\" >\r\n            <!-- <div  v-for=\"(error, index) in profileError\" :key=\"index\"> -->\r\n                <div class=\"alert alert-danger\">{{ profileError }}</div>\r\n            <!-- </div> -->\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card mt-2\">\r\n                <div class=\"card-header bg-dark\">\r\n                    <h5 class=\"text-light\">Update Password of {{ profile.name }} </h5>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <form @submit.prevent=\"update()\" >\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"old_password\">Old Password</label>\r\n                                    <input type=\"password\" class=\"form-control\" v-model=\"profileData.old_password\" />\r\n                                </div>\r\n                            </div>\r\n                           \r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"password\">New Password</label>\r\n                                    <input type=\"password\" class=\"form-control\" v-model=\"profileData.password\"  />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"password_confirmation\">Confirm New Password</label>\r\n                                    <input type=\"password\" class=\"form-control\" v-model=\"profileData.password_confirmation\"  />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <div class=\"form-group\">\r\n                                    <button type=\"submit\" class=\"btn btn-success\">Change Password</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n<script>\r\nimport FlashMessage from \"@/components/FlashMessage.vue\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n    components:{\r\n        FlashMessage\r\n    },\r\n    data(){\r\n        return{\r\n           profileData:{\r\n            id:'',\r\n            old_password : '',\r\n            password : '',\r\n            password_confirmation : '',\r\n           },\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters({\r\n            'profile' : 'profile/profile',\r\n            'profileError' : 'profile/profileError'\r\n        })\r\n    },\r\n    mounted() {\r\n        this.getProfile();\r\n        \r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            'getProfile' : 'profile/getProfile',\r\n            'updatePassword': 'profile/updatePassword',\r\n            'setFlashMessage' : 'flash/setFlashMessage',\r\n        }),\r\n        update(){\r\n            \r\n            this.profileData.id = this.profile.id\r\n            this.updatePassword(this.profileData).then(() => {\r\n                if(!this.profileError){\r\n                    this.setFlashMessage({ message: 'Password Updeted Successfully!!', type: 'alert-success' });\r\n                    this.signIn(this.user).then(() => this.$router.push({ path: \"/login\" }))\r\n\r\n            }\r\n            })\r\n        },\r\n        \r\n    },\r\n\r\n}\r\n</script>\r\n<style lang=\"\">\r\n    \r\n</style>"],"mappings":";AAmDA,OAAOA,YAAW,MAAO,+BAA+B;AACxD,SAASC,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,eAAe;EACXC,UAAU,EAAC;IACPH;EACJ,CAAC;EACDI,IAAIA,CAAA,EAAE;IACF,OAAM;MACHC,WAAW,EAAC;QACXC,EAAE,EAAC,EAAE;QACLC,YAAW,EAAI,EAAE;QACjBC,QAAO,EAAI,EAAE;QACbC,qBAAoB,EAAI;MACzB;IACH;EACJ,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGR,UAAU,CAAC;MACV,SAAQ,EAAI,iBAAiB;MAC7B,cAAa,EAAI;IACrB,CAAC;EACL,CAAC;EACDS,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,UAAU,CAAC,CAAC;EAErB,CAAC;EACDC,OAAO,EAAE;IACL,GAAGZ,UAAU,CAAC;MACV,YAAW,EAAI,oBAAoB;MACnC,gBAAgB,EAAE,wBAAwB;MAC1C,iBAAgB,EAAI;IACxB,CAAC,CAAC;IACFa,MAAMA,CAAA,EAAE;MAEJ,IAAI,CAACT,WAAW,CAACC,EAAC,GAAI,IAAI,CAACS,OAAO,CAACT,EAAC;MACpC,IAAI,CAACU,cAAc,CAAC,IAAI,CAACX,WAAW,CAAC,CAACY,IAAI,CAAC,MAAM;QAC7C,IAAG,CAAC,IAAI,CAACC,YAAY,EAAC;UAClB,IAAI,CAACC,eAAe,CAAC;YAAEC,OAAO,EAAE,iCAAiC;YAAEC,IAAI,EAAE;UAAgB,CAAC,CAAC;UAC3F,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,IAAI,CAAC,CAACN,IAAI,CAAC,MAAM,IAAI,CAACO,OAAO,CAACC,IAAI,CAAC;YAAEC,IAAI,EAAE;UAAS,CAAC,CAAC;QAE/E;MACA,CAAC;IACL;EAEJ;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}