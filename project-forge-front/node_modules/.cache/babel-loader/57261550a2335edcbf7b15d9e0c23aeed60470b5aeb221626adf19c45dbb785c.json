{"ast":null,"code":"import { mapActions, mapGetters } from 'vuex';\nexport default {\n  components: {},\n  data() {\n    return {\n      user: {\n        email: '',\n        password: ''\n      },\n      errors: {}\n    };\n  },\n  computed: {\n    ...mapGetters({\n      'loginError': 'auth/authError'\n    })\n  },\n  methods: {\n    ...mapActions({\n      'signIn': 'auth/singIn'\n    }),\n    validateForm() {\n      this.errors = {};\n      if (!this.user.email) {\n        this.errors.email = 'email is required';\n      }\n      if (!this.user.password) {\n        this.errors.password = 'Password is required';\n      }\n      return Object.keys(this.errors).length === 0;\n    },\n    sabmit() {\n      if (!this.validateForm()) {\n        return;\n      }\n      this.signIn(this.user).then(() => this.$router.replace({\n        name: 'dashboard'\n      }));\n      // this.singnout().then(() => this.$router.replace({name :'Singin'}))\n    }\n  }\n};","map":{"version":3,"names":["mapActions","mapGetters","components","data","user","email","password","errors","computed","methods","validateForm","Object","keys","length","sabmit","signIn","then","$router","replace","name"],"sources":["D:\\PROJETS\\LARAVEL\\project-forge-front\\src\\views\\auth\\Login.vue"],"sourcesContent":["<template lang=\"\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6 mt-5\">\r\n                <img :src=\"'src/assets/sidebar/images/logo.jpg'\" alt=\"auth\" width=\"100%\">\r\n            </div>\r\n            <div class=\"col-md-6 \">\r\n                <div class=\"row mt-5 pt-5\">\r\n                    <div class=\"col-md-12\">\r\n                        <h3>Login  </h3>\r\n                        <!-- Show errors login -->\r\n                        <div v-if=\"loginError\" class=\"alert alert-danger\">{{ loginError }}</div>\r\n                        <div class=\"card\">\r\n                            <div class=\"card-header bg-secondary\">\r\n                                <h5 class=\"text-center text-light\">Login</h5>\r\n                            </div>\r\n                            <div class=\"card-body\">\r\n                                <form @submit.prevent=\"sabmit()\">\r\n                                    <div class=\"form-group my-1\">\r\n                                        <label for=\"email\">Email</label>\r\n                                        <!-- Classe CSS \"is-invalid\" si erreur pour \"name\" -->\r\n                                        <input type=\"email\" \r\n                                            v-model=\"user.email\" \r\n                                            class=\"form-control\"\r\n                                            placeholder=\"Email Address\">\r\n                                        <!-- Le message d'erreur -->\r\n                                        <span v-if=\"errors.email\" class=\"text-danger\">{{ errors.email }}</span>\r\n                                    </div>\r\n                                    <div class=\"form-group my-1\">\r\n                                        <label for=\"password\">Password</label>\r\n                                        <input type=\"password\" \r\n                                        v-model=\"user.password\"\r\n                                        class=\"form-control\"\r\n                                        placeholder=\"Password\" \r\n                                        autocomplete=\"new-password\">\r\n                                    <!-- Le message d'erreur -->\r\n                                    <span v-if=\"errors.password\" class=\"text-danger\">{{ errors.password }}</span>\r\n                                    </div>\r\n            \r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-12\">\r\n                                            <div class=\"form-group my-1\">\r\n                                                <a class=\"text-primary\">Forgot Password</a>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n            \r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-6\">\r\n                                            <div class=\"form-group my-1\">\r\n                                                <button type=\"submit\" class=\"btn btn-warning float-start\">Login</button>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-md-6\">\r\n                                            <a  class=\"btn btn-dark float-end my-1\">Go to register</a>\r\n                                        </div>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- <div>\r\n        <h1>Signin</h1>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6 mx-auto mt-3\">\r\n                <form @submit.prevent=\"sabmit()\" >\r\n                    <div class=\"form-group\">\r\n                        <label for=\"email\">Email</label>\r\n                        <input v-model=\"user.email\" type=\"email\" id=\"email\" class=\"form-control\">\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"password\">Password</label>\r\n                        <input v-model=\"user.password\" type=\"password\"  id=\"password\" class=\"form-control\">\r\n                    </div>\r\n                    <button class=\"btn btn-primary btn-block\">Singin</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div> -->\r\n</template>\r\n<script>\r\nimport { mapActions,mapGetters } from 'vuex';\r\nexport default {\r\n    components: {\r\n        \r\n    },\r\n    data(){\r\n        return{\r\n            user : {\r\n                email : '',\r\n                password : ''\r\n            },\r\n            errors: {},\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters({\r\n            'loginError' :  'auth/authError'\r\n        }),\r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            'signIn' :  'auth/singIn'\r\n        }),\r\n        validateForm() {\r\n        this.errors = {};\r\n\r\n        if (!this.user.email) {\r\n            this.errors.email = 'email is required';\r\n        }\r\n\r\n        if (!this.user.password) {\r\n            this.errors.password = 'Password is required';\r\n        }\r\n\r\n        return Object.keys(this.errors).length === 0;\r\n        },\r\n        sabmit(){\r\n            if (!this.validateForm()) {\r\n                return;\r\n            }\r\n            this.signIn(this.user).then(() => this.$router.replace({name :'dashboard'}))\r\n            // this.singnout().then(() => this.$router.replace({name :'Singin'}))\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n<style lang=\"\">\r\n    \r\n</style>"],"mappings":"AAsFA,SAASA,UAAU,EAACC,UAAS,QAAS,MAAM;AAC5C,eAAe;EACXC,UAAU,EAAE,CAEZ,CAAC;EACDC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,IAAG,EAAI;QACHC,KAAI,EAAI,EAAE;QACVC,QAAO,EAAI;MACf,CAAC;MACDC,MAAM,EAAE,CAAC;IACb;EACJ,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGP,UAAU,CAAC;MACV,YAAW,EAAK;IACpB,CAAC;EACL,CAAC;EACDQ,OAAO,EAAE;IACL,GAAGT,UAAU,CAAC;MACV,QAAO,EAAK;IAChB,CAAC,CAAC;IACFU,YAAYA,CAAA,EAAG;MACf,IAAI,CAACH,MAAK,GAAI,CAAC,CAAC;MAEhB,IAAI,CAAC,IAAI,CAACH,IAAI,CAACC,KAAK,EAAE;QAClB,IAAI,CAACE,MAAM,CAACF,KAAI,GAAI,mBAAmB;MAC3C;MAEA,IAAI,CAAC,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;QACrB,IAAI,CAACC,MAAM,CAACD,QAAO,GAAI,sBAAsB;MACjD;MAEA,OAAOK,MAAM,CAACC,IAAI,CAAC,IAAI,CAACL,MAAM,CAAC,CAACM,MAAK,KAAM,CAAC;IAC5C,CAAC;IACDC,MAAMA,CAAA,EAAE;MACJ,IAAI,CAAC,IAAI,CAACJ,YAAY,CAAC,CAAC,EAAE;QACtB;MACJ;MACA,IAAI,CAACK,MAAM,CAAC,IAAI,CAACX,IAAI,CAAC,CAACY,IAAI,CAAC,MAAM,IAAI,CAACC,OAAO,CAACC,OAAO,CAAC;QAACC,IAAG,EAAG;MAAW,CAAC,CAAC;MAC3E;IACJ;EACJ;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}