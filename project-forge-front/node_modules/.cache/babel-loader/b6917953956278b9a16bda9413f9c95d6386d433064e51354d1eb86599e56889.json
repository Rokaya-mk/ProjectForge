{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  // retreive permissions data from api \n  async getPermissions({\n    commit\n  }, page = 1) {\n    await axios.get(`permissions?page=${page}`).then(response => {\n      // store data in permissions state\n      console.log(response.data);\n      commit('setPermissions', response.data);\n      commit('pagination/SET_PAGINATION', response.data.meta, {\n        root: true\n      });\n    }).catch(error => {\n      if (error.response && error.response.status === 422) {\n        // Validation error\n        console.log('yes');\n        commit('setErrors', error.response.data.errors);\n      } else {\n        console.error(\"Error fetching permission:\", error);\n      }\n    });\n  },\n  // Search permission\n  searchPermission({\n    commit\n  }, payload) {\n    // console.log(payload)\n    setTimeout(function () {\n      axios.get(`permissions/searchPermission?${payload.search_type}=${payload.search_value}`).then(response => {\n        commit('setPermissions', response.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    });\n  },\n  // retreive specific permission data from api \n  showPermission({\n    commit\n  }, payload) {\n    axios.get(`permissions/${payload}`, payload).then(response => {\n      // store data in permission state\n      console.log(response.data.data);\n      commit('setOnePermission', response.data.data);\n    }).catch(error => {\n      console.error(\"Error fetching permission:\", error);\n    });\n  },\n  // store permission in db\n  storePermission({\n    commit\n  }, payload) {\n    axios.post(\"permissions\", payload).then(response => {\n      console.log(response);\n    }).catch(error => {\n      if (error.response.status === 422) {\n        // Validation error\n        commit('setErrors', error.response.data.errors);\n      } else {\n        console.error(\"Error storing permission:\", error);\n      }\n    });\n  },\n  // update a permission\n  updatePermission({\n    commit\n  }, payload) {\n    axios.put(`permissions/${payload.id}`, payload).then(response => {\n      console.log(\"permission updated successfully:\", response.data);\n    }).catch(error => {\n      if (error.response.status === 422) {\n        // Validation error\n        commit('setErrors', error.response.data.errors);\n      } else {\n        console.error(\"Error updating permission:\", error);\n      }\n    });\n  },\n  // delete permission from db\n  deletePermission(_, payload) {\n    axios.delete(\"permissions/\" + payload.id).then(response => {\n      console.log(\"permission deleted successfully:\", response.data);\n    }).catch(error => {\n      console.error(\"Error deleting permission:\", error);\n    });\n  }\n};","map":{"version":3,"names":["axios","getPermissions","commit","page","get","then","response","console","log","data","meta","root","catch","error","status","errors","searchPermission","payload","setTimeout","search_type","search_value","err","showPermission","storePermission","post","updatePermission","put","id","deletePermission","_","delete"],"sources":["D:/PROJETS/LARAVEL/project-forge-front/src/store/permission/actions.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport default {\r\n  // retreive permissions data from api \r\n  async getPermissions({commit},page = 1) {\r\n    await axios\r\n        .get(`permissions?page=${page}`)\r\n        .then((response) => {\r\n            // store data in permissions state\r\n            console.log(response.data)\r\n            commit('setPermissions', response.data)\r\n            commit('pagination/SET_PAGINATION', response.data.meta, { root: true }); \r\n        })\r\n        .catch((error) => {\r\n            if (error.response && error.response.status === 422) { // Validation error\r\n                console.log('yes')\r\n                commit('setErrors', error.response.data.errors);\r\n            } else {\r\n                console.error(\"Error fetching permission:\", error);\r\n            }\r\n        });\r\n    },\r\n     // Search permission\r\n     searchPermission({commit}, payload) {\r\n        // console.log(payload)\r\n        setTimeout(function() {\r\n            axios.get(`permissions/searchPermission?${payload.search_type}=${payload.search_value}`).then((response) => {\r\n                commit('setPermissions', response.data)\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        });\r\n    },\r\n    // retreive specific permission data from api \r\n    showPermission({commit}, payload) {\r\n      axios\r\n          .get(`permissions/${payload}`, payload)\r\n          .then((response) => {\r\n              // store data in permission state\r\n              console.log(response.data.data)\r\n              commit('setOnePermission', response.data.data)\r\n          })\r\n          .catch((error) => {\r\n                console.error(\"Error fetching permission:\", error);\r\n          });\r\n      },\r\n    // store permission in db\r\n    storePermission({commit}, payload) {\r\n        axios\r\n            .post(\"permissions\", payload)\r\n            .then((response) => {\r\n                console.log(response);\r\n            }).catch((error) => {\r\n                if (error.response.status === 422) { // Validation error\r\n                    commit('setErrors', error.response.data.errors);\r\n                } else {\r\n                    console.error(\"Error storing permission:\", error);\r\n                }\r\n            });\r\n    },\r\n    // update a permission\r\n    updatePermission({commit}, payload) {\r\n        axios.put(`permissions/${payload.id}`, payload)\r\n            .then((response) => {\r\n                console.log(\r\n                    \"permission updated successfully:\",\r\n                    response.data\r\n                );\r\n            })\r\n            .catch((error) => {\r\n                if (error.response.status === 422) { \r\n                    // Validation error\r\n                    commit('setErrors', error.response.data.errors);\r\n                } else {\r\n                    console.error(\"Error updating permission:\", error);\r\n                }\r\n            });\r\n    },\r\n    // delete permission from db\r\n    deletePermission(_, payload) {\r\n        axios\r\n            .delete(\"permissions/\" + payload.id)\r\n            .then((response) => {\r\n                console.log(\r\n                    \"permission deleted successfully:\",\r\n                    response.data\r\n                );\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error deleting permission:\", error);\r\n            });\r\n\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}