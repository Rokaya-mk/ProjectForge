{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions } from 'vuex';\nexport default {\n  data() {\n    return {\n      permissionData: {\n        name: '',\n        display_name: '',\n        description: '',\n        resource: '',\n        permission_type: 'basic',\n        crud: ['create', 'read', 'update', 'delete'],\n        selectedCrud: ['create', 'read', 'update', 'delete']\n      },\n      permissionErrors: {}\n    };\n  },\n  methods: {\n    ...mapActions({\n      'setFlashMessage': 'flash/setFlashMessage'\n    }),\n    sabmit() {\n      if (this.validateData()) {\n        this.$store.dispatch(\"permission/storePermission\", this.permissionData).then(() => {\n          this.$router.push({\n            path: \"/permissions\",\n            replace: true\n          });\n          this.setFlashMessage({\n            message: 'Permission was Created !!',\n            type: 'alert-success'\n          });\n        });\n      }\n    },\n    // validate Name\n    validateName() {\n      if (!this.permissionData.name) {\n        this.permissionErrors.name = \"Name is required\";\n      }\n    },\n    // validate display_name \n    validateDisplayName() {\n      if (!this.permissionData.display_name) {\n        this.permissionErrors.display_name = \"display name is required\";\n      }\n    },\n    // validate description \n    validateDescription() {\n      if (!this.permissionData.description) {\n        this.permissionErrors.description = \"Description name is required\";\n      }\n    },\n    // validate description \n    validateResource() {\n      if (!this.permissionData.resource) {\n        this.permissionErrors.resource = \"Resource name is required\";\n      }\n    },\n    // validate data methode\n    validateData() {\n      if (permissionData.permission_type == \"basic\") {\n        this.validateName();\n        this.validateDisplayName();\n        this.validateDescription();\n      } else {\n        this.validateResource();\n      }\n      return Object.keys(this.roleErrors).length === 0;\n    },\n    capitalizeFirstLetter(item) {\n      return item.charAt(0).toUpperCase() + item.substring(1);\n    },\n    crudName(item) {\n      return this.permissionData.resource.toLowerCase() + '-' + item.toLowerCase();\n    },\n    crudDisplayName(item) {\n      return this.capitalizeFirstLetter(this.permissionData.resource) + ' ' + this.capitalizeFirstLetter(item);\n    }\n  }\n};","map":{"version":3,"names":["mapActions","data","permissionData","name","display_name","description","resource","permission_type","crud","selectedCrud","permissionErrors","methods","sabmit","validateData","$store","dispatch","then","$router","push","path","replace","setFlashMessage","message","type","validateName","validateDisplayName","validateDescription","validateResource","Object","keys","roleErrors","length","capitalizeFirstLetter","item","charAt","toUpperCase","substring","crudName","toLowerCase","crudDisplayName"],"sources":["D:\\PROJETS\\LARAVEL\\project-forge-front\\src\\views\\managment\\permissions\\create.vue"],"sourcesContent":["<template lang=\"\">\r\n    <div class=\"card\">\r\n        <div class=\"card-header bg-dark\">\r\n            <h5 class=\"text-light\">Create New Permission</h5>\r\n        </div>\r\n        <div class=\"card-body\">\r\n            <form @submit.prevent=\"sabmit()\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                        <div class=\"form-check-inline\">\r\n                            <input type=\"radio\" \r\n                                   class=\"form-check-input\" \r\n                                   id=\"inlineradio1\" \r\n                                   v-model=\"permissionData.permission_type\" \r\n                                   value=\"basic\">\r\n                            <label for=\"inlineradio1\" class=\"form-check-label\">Basic</label>\r\n                        </div>\r\n                        <div class=\"form-check-inline\">\r\n                            <input type=\"radio\" \r\n                                   class=\"form-check-input\" \r\n                                   id=\"inlineradio2\" \r\n                                   v-model=\"permissionData.permission_type\" \r\n                                   value=\"crud\">\r\n                            <label for=\"inlineradio2\" class=\"form-check-label\">CRUD</label>\r\n                        </div>\r\n                    </div>\r\n                </div>            \r\n                <div class=\"row\" v-if=\"permissionData.permission_type == 'basic'\">\r\n                    <div class=\"col-md-4\">\r\n                        <div class=\"form-group\">\r\n                            <label for=\"name\">Name</label>\r\n                            <input type=\"text\" class=\"form-control\" v-model=\"permissionData.name\">\r\n                            <span v-if=\"permissionErrors.name\"\r\n                                class=\"text-danger\">\r\n                                {{permissionErrors.name}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-4\">\r\n                        <div class=\"form-group\">\r\n                            <label for=\"display_name\">Display Name</label>\r\n                            <input type=\"text\" class=\"form-control\" v-model=\"permissionData.display_name\">\r\n                            <span v-if=\"permissionErrors.display_name\"\r\n                                class=\"text-danger\">\r\n                                {{permissionErrors.display_name}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-4\">\r\n                        <div class=\"form-group\">\r\n                            <label for=\"description\">Description</label>\r\n                            <input type=\"text\" class=\"form-control\" v-model=\"permissionData.description\">\r\n                            <span v-if=\"permissionErrors.description\"\r\n                                class=\"text-danger\">\r\n                                {{permissionErrors.description}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>            \r\n                <div class=\"row\" v-if=\"permissionData.permission_type == 'crud'\">\r\n                    <div class=\"col-md-4\">\r\n                        <div class=\"form-group\">\r\n                            <label for=\"resource\">Resource</label>\r\n                            <input type=\"text\" \r\n                                   class=\"form-control\" \r\n                                   v-model=\"permissionData.resource\">\r\n                            <span v-if=\"permissionErrors.resource\"\r\n                                class=\"text-danger\">\r\n                                {{permissionErrors.resource}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-8 mt-4 pt-3\">\r\n                        <div class=\"form-check-inline\" v-for=\"(item,index) in permissionData.crud\" :key=\"index\" >\r\n                            <input type=\"checkbox\" \r\n                                   class=\"form-check-input\" \r\n                                   :id=\"'item'+index \" \r\n                                   v-model=\"permissionData.selectedCrud\" \r\n                                   :value=\"item\"\r\n                                   checked\r\n                                     >\r\n                            <label :for=\"'item'+index \" class=\"form-check-label\"> {{ capitalizeFirstLetter(item) }} </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\"\r\n                    v-if=\"permissionData.permission_type == 'crud' \" >\r\n                    <table class=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name</th>\r\n                                <th>Display Name</th>\r\n                                <th>Description</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr v-for=\"(item, index) in permissionData.selectedCrud\" :key=\"index\">\r\n                                <td v-text=\"crudName(item)\" > </td>\r\n                                <td v-text=\"crudDisplayName(item)\"></td>\r\n                                <td v-text=\"crudDisplayName(item)\"></td>\r\n                                \r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12\">\r\n                        <div class=\"form-group\">\r\n                            <button type=\"submit\" class=\"btn btn-success float-right\">\r\n                                Save\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n    data(){\r\n        return {\r\n            permissionData: {\r\n                    name:'',\r\n                    display_name: '',\r\n                    description:'',\r\n                    resource: '',\r\n                    permission_type: 'basic',\r\n                    crud: ['create', 'read', 'update', 'delete'],\r\n                    selectedCrud:['create', 'read', 'update', 'delete']\r\n                },\r\n            permissionErrors:{}\r\n        }\r\n    },\r\n     methods: {\r\n        ...mapActions({\r\n            'setFlashMessage' : 'flash/setFlashMessage',\r\n        }),\r\n        sabmit(){\r\n            if (this.validateData()) {\r\n                this.$store\r\n                    .dispatch(\"permission/storePermission\",this.permissionData)\r\n                    .then(() => {\r\n                        this.$router.push({ path: \"/permissions\", replace: true})\r\n                        this.setFlashMessage({ message: 'Permission was Created !!', type: 'alert-success' });\r\n\r\n                    })\r\n            }\r\n        },\r\n         // validate Name\r\n         validateName() {\r\n            if (!this.permissionData.name) {\r\n                this.permissionErrors.name = \"Name is required\";\r\n            }\r\n        },\r\n        // validate display_name \r\n        validateDisplayName() {\r\n            if (!this.permissionData.display_name) {\r\n                this.permissionErrors.display_name = \"display name is required\";\r\n            }\r\n        },\r\n        // validate description \r\n        validateDescription() {\r\n            if (!this.permissionData.description) {\r\n                this.permissionErrors.description = \"Description name is required\";\r\n            }\r\n        },\r\n        // validate description \r\n        validateResource() {\r\n            if (!this.permissionData.resource) {\r\n                this.permissionErrors.resource = \"Resource name is required\";\r\n            }\r\n        },\r\n        // validate data methode\r\n        validateData() {\r\n            if(permissionData.permission_type == \"basic\"){\r\n                this.validateName();\r\n                this.validateDisplayName();\r\n                this.validateDescription();\r\n            }else{\r\n                this.validateResource();\r\n            }\r\n            return Object.keys(this.roleErrors).length === 0;\r\n        },\r\n        capitalizeFirstLetter(item){\r\n            return item.charAt(0).toUpperCase() + item.substring(1);\r\n        },\r\n            crudName(item) {\r\n                return this.permissionData.resource.toLowerCase() + '-' + item.toLowerCase();\r\n            },\r\n            crudDisplayName(item) {\r\n                return this.capitalizeFirstLetter(this.permissionData.resource) + ' ' + this.capitalizeFirstLetter(item);\r\n            },\r\n        }\r\n}\r\n</script>\r\n<style lang=\"\">\r\n    \r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}