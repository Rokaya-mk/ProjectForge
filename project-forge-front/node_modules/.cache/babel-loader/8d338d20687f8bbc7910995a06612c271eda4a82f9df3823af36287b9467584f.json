{"ast":null,"code":"import FlashMessage from \"@/components/FlashMessage.vue\";\nimport { mapActions, mapGetters } from \"vuex\";\nexport default {\n  components: {\n    FlashMessage\n  },\n  data() {\n    return {\n      profileData: {\n        id: '',\n        old_password: '',\n        password: '',\n        password_confirmation: ''\n      },\n      errors: {}\n    };\n  },\n  computed: {\n    ...mapGetters({\n      'profile': 'profile/profile',\n      'profileError': 'profile/profileError'\n    })\n  },\n  mounted() {\n    this.getProfile();\n  },\n  methods: {\n    ...mapActions({\n      'getProfile': 'profile/getProfile',\n      'updatePassword': 'profile/updatePassword',\n      'setFlashMessage': 'flash/setFlashMessage'\n    }),\n    update() {\n      if (this.validateData()) {\n        this.profileData.id = this.profile.id;\n        this.updatePassword(this.profileData).then(() => {\n          this.setFlashMessage({\n            message: 'Password Updeted Successfully!!',\n            type: 'alert-success'\n          });\n        });\n      }\n    },\n    // validate old password Password\n    validateOldPassword() {\n      if (!this.profileData.old_password) {\n        this.profileData.old_password = \"Old password is required\";\n      } else {\n        delete this.profileData.old_password;\n      }\n    },\n    // validate Password\n    validatePassword() {\n      if (!this.profileData.password) {\n        this.profileData.password = \"Password is required\";\n      } else {\n        this.profileData.password = \"\";\n      }\n    },\n    // validate Confirmed Password\n    validateConfirmedPassword() {\n      if (!this.profileData.password_confirmation) {\n        this.profileData.password_confirmation = \"onfirmed Password is required\";\n      } else {\n        this.profileData.password_confirmation = \"\";\n      }\n    },\n    // validate data methode\n    validateData() {\n      this.validateOldPassword();\n      // this.validatePassword();\n      // this.validateConfirmedPassword();\n      return Object.keys(this.departmentErrors).length === 0;\n    }\n  }\n};","map":{"version":3,"names":["FlashMessage","mapActions","mapGetters","components","data","profileData","id","old_password","password","password_confirmation","errors","computed","mounted","getProfile","methods","update","validateData","profile","updatePassword","then","setFlashMessage","message","type","validateOldPassword","validatePassword","validateConfirmedPassword","Object","keys","departmentErrors","length"],"sources":["D:\\PROJETS\\LARAVEL\\project-forge-front\\src\\views\\managment\\profile\\index.vue"],"sourcesContent":["<template  lang=\"\" >\r\n    <FlashMessage ref=\"flashMessage\"></FlashMessage>\r\n    <div class=\"row\" v-if=\"profile\">\r\n        <div v-if=\"profileError\" >\r\n            <div  v-for=\"(error, index) in profileError\" :key=\"index\">\r\n                <div class=\"alert alert-danger\">{{ error}}</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card mt-2\">\r\n                <div class=\"card-header bg-dark\">\r\n                    <h5 class=\"text-light\">Update Password of {{ profile.name }} </h5>\r\n                </div>\r\n                <div class=\"card-body\">\r\n                    <form @submit.prevent=\"update()\" >\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"old_password\">Old Password</label>\r\n                                    <input type=\"password\" class=\"form-control\" v-model=\"profileData.old_password\">\r\n                                    <span   v-if=\"errors.old_password\" \r\n                                            class=\"text-danger\">\r\n                                            {{errors.old_password}}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"password\">New Password</label>\r\n                                    <input type=\"password\" class=\"form-control\" v-model=\"profileData.password\">\r\n                                    <span   v-if=\"errors.password\" \r\n                                            class=\"text-danger\">\r\n                                            {{errors.password}}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"password_confirmation\">Confirm New Password</label>\r\n                                    <input type=\"password\" class=\"form-control\" v-model=\"profileData.password_confirmation\">\r\n                                    <span   v-if=\"errors.password_confirmation\" \r\n                                            class=\"text-danger\">\r\n                                            {{errors.password_confirmation}}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-md-12\">\r\n                                <div class=\"form-group\">\r\n                                    <button type=\"submit\" class=\"btn btn-success\">Change Password</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n<script>\r\nimport FlashMessage from \"@/components/FlashMessage.vue\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nexport default {\r\n    components:{\r\n        FlashMessage\r\n    },\r\n    data(){\r\n        return{\r\n           profileData:{\r\n            id:'',\r\n            old_password : '',\r\n            password : '',\r\n            password_confirmation : '',\r\n           },\r\n           errors:{}\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters({\r\n            'profile' : 'profile/profile',\r\n            'profileError' : 'profile/profileError'\r\n        })\r\n    },\r\n    mounted() {\r\n        this.getProfile();\r\n        \r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            'getProfile' : 'profile/getProfile',\r\n            'updatePassword': 'profile/updatePassword',\r\n            'setFlashMessage' : 'flash/setFlashMessage',\r\n        }),\r\n        update(){\r\n            if(this.validateData()){\r\n                this.profileData.id = this.profile.id\r\n                this.updatePassword(this.profileData).then(() => {\r\n                    this.setFlashMessage({ message: 'Password Updeted Successfully!!', type: 'alert-success' });\r\n                })\r\n            }\r\n        },\r\n        // validate old password Password\r\n        validateOldPassword() {\r\n            if (!this.profileData.old_password) {\r\n                this.profileData.old_password = \"Old password is required\";\r\n            }else {\r\n                 delete this.profileData.old_password;\r\n            }\r\n        },\r\n        // validate Password\r\n        validatePassword() {\r\n            if (!this.profileData.password) {\r\n                this.profileData.password = \"Password is required\";\r\n            }else {\r\n                 this.profileData.password=\"\";\r\n            }\r\n        },\r\n        // validate Confirmed Password\r\n        validateConfirmedPassword() {\r\n            if (!this.profileData.password_confirmation) {\r\n                this.profileData.password_confirmation = \"onfirmed Password is required\";\r\n            }else {\r\n                 this.profileData.password_confirmation=\"\";\r\n            }\r\n        },\r\n       \r\n        // validate data methode\r\n        validateData() {\r\n            this.validateOldPassword();\r\n            // this.validatePassword();\r\n            // this.validateConfirmedPassword();\r\n            return Object.keys(this.departmentErrors).length === 0;\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n<style lang=\"\">\r\n    \r\n</style>"],"mappings":"AA8DA,OAAOA,YAAW,MAAO,+BAA+B;AACxD,SAASC,UAAU,EAAEC,UAAS,QAAS,MAAM;AAC7C,eAAe;EACXC,UAAU,EAAC;IACPH;EACJ,CAAC;EACDI,IAAIA,CAAA,EAAE;IACF,OAAM;MACHC,WAAW,EAAC;QACXC,EAAE,EAAC,EAAE;QACLC,YAAW,EAAI,EAAE;QACjBC,QAAO,EAAI,EAAE;QACbC,qBAAoB,EAAI;MACzB,CAAC;MACDC,MAAM,EAAC,CAAC;IACX;EACJ,CAAC;EACDC,QAAQ,EAAE;IACN,GAAGT,UAAU,CAAC;MACV,SAAQ,EAAI,iBAAiB;MAC7B,cAAa,EAAI;IACrB,CAAC;EACL,CAAC;EACDU,OAAOA,CAAA,EAAG;IACN,IAAI,CAACC,UAAU,CAAC,CAAC;EAErB,CAAC;EACDC,OAAO,EAAE;IACL,GAAGb,UAAU,CAAC;MACV,YAAW,EAAI,oBAAoB;MACnC,gBAAgB,EAAE,wBAAwB;MAC1C,iBAAgB,EAAI;IACxB,CAAC,CAAC;IACFc,MAAMA,CAAA,EAAE;MACJ,IAAG,IAAI,CAACC,YAAY,CAAC,CAAC,EAAC;QACnB,IAAI,CAACX,WAAW,CAACC,EAAC,GAAI,IAAI,CAACW,OAAO,CAACX,EAAC;QACpC,IAAI,CAACY,cAAc,CAAC,IAAI,CAACb,WAAW,CAAC,CAACc,IAAI,CAAC,MAAM;UAC7C,IAAI,CAACC,eAAe,CAAC;YAAEC,OAAO,EAAE,iCAAiC;YAAEC,IAAI,EAAE;UAAgB,CAAC,CAAC;QAC/F,CAAC;MACL;IACJ,CAAC;IACD;IACAC,mBAAmBA,CAAA,EAAG;MAClB,IAAI,CAAC,IAAI,CAAClB,WAAW,CAACE,YAAY,EAAE;QAChC,IAAI,CAACF,WAAW,CAACE,YAAW,GAAI,0BAA0B;MAC9D,CAAC,MAAK;QACD,OAAO,IAAI,CAACF,WAAW,CAACE,YAAY;MACzC;IACJ,CAAC;IACD;IACAiB,gBAAgBA,CAAA,EAAG;MACf,IAAI,CAAC,IAAI,CAACnB,WAAW,CAACG,QAAQ,EAAE;QAC5B,IAAI,CAACH,WAAW,CAACG,QAAO,GAAI,sBAAsB;MACtD,CAAC,MAAK;QACD,IAAI,CAACH,WAAW,CAACG,QAAQ,GAAC,EAAE;MACjC;IACJ,CAAC;IACD;IACAiB,yBAAyBA,CAAA,EAAG;MACxB,IAAI,CAAC,IAAI,CAACpB,WAAW,CAACI,qBAAqB,EAAE;QACzC,IAAI,CAACJ,WAAW,CAACI,qBAAoB,GAAI,+BAA+B;MAC5E,CAAC,MAAK;QACD,IAAI,CAACJ,WAAW,CAACI,qBAAqB,GAAC,EAAE;MAC9C;IACJ,CAAC;IAED;IACAO,YAAYA,CAAA,EAAG;MACX,IAAI,CAACO,mBAAmB,CAAC,CAAC;MAC1B;MACA;MACA,OAAOG,MAAM,CAACC,IAAI,CAAC,IAAI,CAACC,gBAAgB,CAAC,CAACC,MAAK,KAAM,CAAC;IAC1D;EACJ;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}