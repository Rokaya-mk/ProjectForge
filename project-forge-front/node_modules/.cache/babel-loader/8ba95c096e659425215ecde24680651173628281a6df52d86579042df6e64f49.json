{"ast":null,"code":"import FlashMessage from \"@/components/FlashMessage.vue\";\nimport Pagination from '@/components/Pagination.vue';\nimport { mapActions, mapGetters } from 'vuex';\nexport default {\n  components: {\n    FlashMessage,\n    Pagination\n  },\n  data() {\n    return {\n      searchData: {\n        search_type: \"name\",\n        search_value: \"\"\n      }\n    };\n  },\n  computed: {\n    /* access to getter with mapgetter \r\n    userPermissions : get the permissions of this user\r\n    */\n    ...mapGetters({\n      'authenticated': 'auth/authenticated',\n      'userPermissions': 'user/userPermissions',\n      'permissions': 'permission/permissions',\n      'pagination': 'pagination/pagination'\n    })\n  },\n  mounted() {\n    this.getPermissions();\n    this.$store.dispatch('user/getUserRolesPermissions');\n  },\n  methods: {\n    ...mapActions({\n      'setFlashMessage': 'flash/setFlashMessage',\n      'searchDepartment': 'permission/searchDepartment'\n    }),\n    search() {\n      this.searchDepartment(this.searchData);\n    },\n    // get permission list\n    getPermissions(page) {\n      this.$store.dispatch(\"permission/getPermissions\", page);\n    },\n    // delete permission\n    deletePermission(permission) {\n      if (confirm(\"Are you sure you want to delete permission!\")) {\n        this.$store.dispatch(\"permission/deletePermission\", permission).then(() => {\n          this.setFlashMessage({\n            message: 'permission was Deleted !!',\n            type: 'alert-success'\n          });\n          this.getPermissions();\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["FlashMessage","Pagination","mapActions","mapGetters","components","data","searchData","search_type","search_value","computed","mounted","getPermissions","$store","dispatch","methods","search","searchDepartment","page","deletePermission","permission","confirm","then","setFlashMessage","message","type"],"sources":["D:\\PROJETS\\LARAVEL\\project-forge-front\\src\\views\\managment\\permissions\\index.vue"],"sourcesContent":["<template lang=\"\" >\r\n    <FlashMessage ref=\"flashMessage\"></FlashMessage>\r\n<div class=\"row\" v-if=\"authenticated\">\r\n    <div class=\"col-md-6\">\r\n        <h1>Permissions</h1>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n        <router-link class=\"btn btn-success mt-2 float-right\" :to=\"{name:'create-permission'}\">\r\n            Create New Permission\r\n        </router-link>\r\n    </div>\r\n</div>\r\n<div class=\"row\" v-if=\"permissions\">\r\n    <div class=\"col-md-12\">\r\n        <div class=\"table-responsive\">\r\n            <div class=\"row px-5 d-flex justify-content-between align-items-center mb-2 bg-white\">\r\n                <div class=\"col-md-3\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"search_type\">Search Type</label>\r\n                        <select  class=\"form-control\" v-model=\"searchData.search_type\">\r\n                            <option value=\"name\">Name</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-3\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"search_value\">Search Value</label>\r\n                        <input type=\"text\" class=\"form-control\" \r\n                                v-model=\"searchData.search_value\" \r\n                                @keyup=\"search\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-md-3  mt-1\">\r\n                    <button @click=\"search\" class=\"btn btn-success\">\r\n                        <i class=\"fa fa-search\"></i>\r\n                    </button>\r\n                    \r\n                </div>\r\n            </div>\r\n            <table class=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Name</th>\r\n                        <th>Display Name</th>\r\n                        <th>Description</th>\r\n                        <th v-if=\"userPermissions.has('permissions-update','permissions-delete')\">\r\n                            Actions\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody v-if=\"permissions\">\r\n                        <tr v-for=\"(permission, index) in permissions.data\" :key=\"index\">\r\n                            <td>{{index + 1}}</td>\r\n                            <td>{{ permission.name }}</td>\r\n                            <td>{{ permission.display_name }}</td>\r\n                            <td>{{ permission.description }}</td>\r\n                            <td v-if=\"userPermissions.has('permissions-update')\">\r\n                                <div class=\"d-inline-block\">\r\n                                    <router-link :to=\"{name:'edit-permission' ,params :{id: permission.id} }\" class=\"btn btn-success mr-2\">\r\n                                        <i class=\"fa fa-edit\"></i>\r\n                                    </router-link>\r\n                                </div>\r\n                                <button class=\"btn btn-danger mx-1\"\r\n                                        v-if=\"userPermissions.has('permissions-delete')\"\r\n                                        @click=\"deletePermission(permission)\">\r\n                                        <i class=\"fa fa-trash\"></i>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n<Pagination :pagination=\"pagination\" @page-changed=\"getPermissions($event)\" />\r\n\r\n\r\n</template>\r\n<script>\r\nimport FlashMessage from \"@/components/FlashMessage.vue\";\r\nimport Pagination from '@/components/Pagination.vue'\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\ncomponents:{\r\n    FlashMessage,\r\n    Pagination\r\n},\r\ndata(){\r\n    return{\r\n        searchData: {\r\n                    search_type: \"name\",\r\n                    search_value: \"\",\r\n                },\r\n    }\r\n},\r\ncomputed: {\r\n     /* access to getter with mapgetter \r\n    userPermissions : get the permissions of this user\r\n    */\r\n    ...mapGetters({    \r\n        'authenticated' : 'auth/authenticated',  \r\n        'userPermissions' : 'user/userPermissions',\r\n        'permissions' : 'permission/permissions',\r\n        'pagination' : 'pagination/pagination'\r\n    }),\r\n},\r\nmounted(){\r\n    \r\n    this.getPermissions()\r\n    this.$store.dispatch('user/getUserRolesPermissions');\r\n},\r\nmethods: {\r\n    ...mapActions({\r\n        'setFlashMessage' : 'flash/setFlashMessage',\r\n        'searchDepartment' : 'permission/searchDepartment'\r\n    }),\r\n    search(){\r\n            this.searchDepartment(this.searchData)\r\n            },\r\n    // get permission list\r\n    getPermissions(page) {\r\n        this.$store.dispatch(\"permission/getPermissions\",page);\r\n    },\r\n    // delete permission\r\n    deletePermission(permission) {\r\n        if (confirm(\"Are you sure you want to delete permission!\")) {\r\n            this.$store\r\n                .dispatch(\"permission/deletePermission\", permission)\r\n                .then(() => {\r\n                    this.setFlashMessage({ message: 'permission was Deleted !!', type: 'alert-success' });\r\n                    this.getPermissions();\r\n                });\r\n        }\r\n    },   \r\n},\r\n}\r\n</script>\r\n<style lang=\"\">\r\n\r\n</style>"],"mappings":"AAgFA,OAAOA,YAAW,MAAO,+BAA+B;AACxD,OAAOC,UAAS,MAAO,6BAA4B;AACnD,SAASC,UAAU,EAAEC,UAAS,QAAS,MAAM;AAE7C,eAAe;EACfC,UAAU,EAAC;IACPJ,YAAY;IACZC;EACJ,CAAC;EACDI,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,UAAU,EAAE;QACAC,WAAW,EAAE,MAAM;QACnBC,YAAY,EAAE;MAClB;IACZ;EACJ,CAAC;EACDC,QAAQ,EAAE;IACL;;;IAGD,GAAGN,UAAU,CAAC;MACV,eAAc,EAAI,oBAAoB;MACtC,iBAAgB,EAAI,sBAAsB;MAC1C,aAAY,EAAI,wBAAwB;MACxC,YAAW,EAAI;IACnB,CAAC;EACL,CAAC;EACDO,OAAOA,CAAA,EAAE;IAEL,IAAI,CAACC,cAAc,CAAC;IACpB,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,8BAA8B,CAAC;EACxD,CAAC;EACDC,OAAO,EAAE;IACL,GAAGZ,UAAU,CAAC;MACV,iBAAgB,EAAI,uBAAuB;MAC3C,kBAAiB,EAAI;IACzB,CAAC,CAAC;IACFa,MAAMA,CAAA,EAAE;MACA,IAAI,CAACC,gBAAgB,CAAC,IAAI,CAACV,UAAU;IACrC,CAAC;IACT;IACAK,cAAcA,CAACM,IAAI,EAAE;MACjB,IAAI,CAACL,MAAM,CAACC,QAAQ,CAAC,2BAA2B,EAACI,IAAI,CAAC;IAC1D,CAAC;IACD;IACAC,gBAAgBA,CAACC,UAAU,EAAE;MACzB,IAAIC,OAAO,CAAC,6CAA6C,CAAC,EAAE;QACxD,IAAI,CAACR,MAAK,CACLC,QAAQ,CAAC,6BAA6B,EAAEM,UAAU,EAClDE,IAAI,CAAC,MAAM;UACR,IAAI,CAACC,eAAe,CAAC;YAAEC,OAAO,EAAE,2BAA2B;YAAEC,IAAI,EAAE;UAAgB,CAAC,CAAC;UACrF,IAAI,CAACb,cAAc,CAAC,CAAC;QACzB,CAAC,CAAC;MACV;IACJ;EACJ;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}