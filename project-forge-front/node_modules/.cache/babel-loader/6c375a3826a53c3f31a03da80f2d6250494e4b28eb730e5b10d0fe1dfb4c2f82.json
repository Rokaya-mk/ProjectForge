{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-3eca7188\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  id: \"sidebar\"\n};\nconst _hoisted_2 = {\n  class: \"p-4 pt-5\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\",\n  class: \"img logo rounded-circle mb-5\",\n  style: {\n    \"background-image\": \"url('/src/assets/sidebar/images/tasks.png')\"\n  }\n}, null, -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"list-unstyled components mb-5\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fa fa-angle-down\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_6 = {\n  key: 2\n};\nconst _hoisted_7 = {\n  key: 3\n};\nconst _hoisted_8 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"footer\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", null, [/*#__PURE__*/_createTextVNode(\" Â© 2024 All rights reserved | Made with \"), /*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"icon-heart\",\n  \"aria-hidden\": \"true\"\n}), /*#__PURE__*/_createTextVNode(\" by \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\"\n}, \"rqia\")])], -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"ul\", _hoisted_4, [$options.hasRole('admin') ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 0,\n    class: _normalizeClass({\n      active: $data.isManagementActive\n    })\n  }, [_createElementVNode(\"a\", {\n    href: \"#homeSubmenu\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.toggleManagement && $options.toggleManagement(...args)),\n    \"aria-expanded\": \"false\"\n  }, [_createTextVNode(\" Management \"), _hoisted_5]), _createElementVNode(\"ul\", {\n    class: _normalizeClass([\"collapse list-unstyled\", {\n      show: $data.isManagementActive\n    }]),\n    id: \"homeSubmenu\"\n  }, [$options.canReadDepartments ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 0,\n    class: _normalizeClass({\n      active: $options.isDepartmentsActive\n    })\n  }, [_createVNode(_component_router_link, {\n    to: \"/departments\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Departments\")]),\n    _: 1 /* STABLE */\n  })], 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true), $options.canReadUsers ? (_openBlock(), _createElementBlock(\"li\", {\n    key: 1,\n    class: _normalizeClass({\n      active: $options.isUsersActive\n    })\n  }, [_createVNode(_component_router_link, {\n    to: \"/users\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Users\")]),\n    _: 1 /* STABLE */\n  })], 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true), $options.canReadRoles ? (_openBlock(), _createElementBlock(\"li\", _hoisted_6, [_createVNode(_component_router_link, {\n    to: \"/roles\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Roles\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true), $options.canReadPermissions ? (_openBlock(), _createElementBlock(\"li\", _hoisted_7, [_createVNode(_component_router_link, {\n    to: \"/permissions\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Permissions\")]),\n    _: 1 /* STABLE */\n  })])) : _createCommentVNode(\"v-if\", true)], 2 /* CLASS */)], 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/tasks\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Tasks Inbox\")]),\n    _: 1 /* STABLE */\n  })])]), _hoisted_8])]);\n}","map":{"version":3,"names":["id","class","_createElementVNode","href","style","key","_createTextVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$options","hasRole","_normalizeClass","active","$data","isManagementActive","onClick","_cache","args","toggleManagement","_hoisted_5","show","canReadDepartments","isDepartmentsActive","_createVNode","_component_router_link","to","default","_withCtx","_","_createCommentVNode","canReadUsers","isUsersActive","canReadRoles","_hoisted_6","canReadPermissions","_hoisted_7","_hoisted_8"],"sources":["D:\\PROJETS\\LARAVEL\\project-forge-front\\src\\components\\SideBar.vue"],"sourcesContent":["<!-- src/components/Sidebar.vue -->\r\n<template>\r\n    <nav id=\"sidebar\">\r\n      <div class=\"p-4 pt-5\">\r\n        <a href=\"#\" class=\"img logo rounded-circle mb-5\" style=\"background-image: url('/src/assets/sidebar/images/tasks.png');\"></a>\r\n        <ul class=\"list-unstyled components mb-5\">\r\n          <li v-if=\"hasRole('admin')\" :class=\"{ active: isManagementActive }\">\r\n            <a href=\"#homeSubmenu\" @click=\"toggleManagement\" aria-expanded=\"false\">\r\n              Management\r\n              <i class=\"fa fa-angle-down\"></i>\r\n            </a>\r\n            <ul class=\"collapse list-unstyled\" :class=\"{ show: isManagementActive }\" id=\"homeSubmenu\">\r\n              <li v-if=\"canReadDepartments\" :class=\"{ active: isDepartmentsActive }\">\r\n                <router-link to=\"/departments\">Departments</router-link>\r\n              </li>\r\n              <li v-if=\"canReadUsers\" :class=\"{ active: isUsersActive }\">\r\n                <router-link to=\"/users\">Users</router-link>\r\n              </li>\r\n              <li v-if=\"canReadRoles\">\r\n                <router-link to=\"/roles\">Roles</router-link>\r\n              </li>\r\n              <li v-if=\"canReadPermissions\">\r\n                <router-link to=\"/permissions\">Permissions</router-link>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n          <li>\r\n            <router-link to=\"/tasks\">Tasks Inbox</router-link>\r\n          </li>\r\n        </ul>\r\n        <div class=\"footer\">\r\n          <p>\r\n            &copy; 2024 All rights reserved | Made with <i class=\"icon-heart\" aria-hidden=\"true\"></i> by <a href=\"#\">rqia</a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  </template>\r\n  \r\n  <script>\r\n  import $ from 'jquery';\r\n  import 'bootstrap';\r\n  import '@/assets/sidebar/js/main'; // Import your custom script\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        isManagementActive: false,\r\n      };\r\n    },\r\n    computed: {\r\n       /* access to getter with mapgetter \r\n        departments : to get departments list\r\n        userRoles : verify roles of this authenticated user \r\n        userPermissions : get the permissions of this user\r\n        errors :  get api errors\r\n        */\r\n        ...mapGetters({            \r\n            userRoles : 'user/userRoles',\r\n            userPermissions : 'user/userPermissions',\r\n        }),\r\n      isAdmin() {\r\n        return true; // Example value\r\n      },\r\n      canReadDepartments() {\r\n        return true; // Example value\r\n      },\r\n      canReadUsers() {\r\n        return true; // Example value\r\n      },\r\n      canReadRoles() {\r\n        return true; // Example value\r\n      },\r\n      canReadPermissions() {\r\n        return true; // Example value\r\n      },\r\n      isDepartmentsActive() {\r\n        return this.$route.path === '/departments';\r\n      },\r\n      isUsersActive() {\r\n        return this.$route.path === '/users';\r\n      }\r\n    },\r\n    methods: {\r\n      toggleManagement() {\r\n        this.isManagementActive = !this.isManagementActive;\r\n      }\r\n    },\r\n    mounted() {\r\n      this.initializeJQuery();\r\n      this.$store.dispatch('user/getUserRolesPermissions');\r\n      console.log('per')\r\n      console.log(this.userPermissions)\r\n    },\r\n    methods: {\r\n      initializeJQuery() {\r\n        $(document).ready(() => {\r\n          // Any jQuery dependent code can go here\r\n        });\r\n      },\r\n      toggleManagement() {\r\n        this.isManagementActive = !this.isManagementActive;\r\n      },\r\n      can(permission) {\r\n        console.log(permission,this.user)\r\n      // return this.userPermissions.includes(permission);\r\n    },\r\n    hasRole(role) {\r\n        console.log(this.userRoles)\r\n       return this.userRoles.has(role);\r\n    }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  @import \"~@/assets/sidebar/css/style.css\";\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}