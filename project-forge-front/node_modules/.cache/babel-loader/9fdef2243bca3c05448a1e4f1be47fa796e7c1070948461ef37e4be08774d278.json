{"ast":null,"code":"import $ from 'jquery';\nimport 'bootstrap';\nimport '@/assets/sidebar/js/main'; // Import your custom script\nimport { mapGetters, mapActions } from \"vuex\";\nexport default {\n  data() {\n    return {\n      isManagementActive: false\n    };\n  },\n  computed: {\n    /* access to getter with mapgetter \r\n     departments : to get departments list\r\n     userRoles : verify roles of this authenticated user \r\n     userPermissions : get the permissions of this user\r\n     errors :  get api errors\r\n     */\n    ...mapGetters({\n      userRoles: 'user/userRoles',\n      userPermissions: 'user/userPermissions'\n    }),\n    isDepartmentsActive() {\n      return this.$route.path === '/departments';\n    },\n    isUsersActive() {\n      return this.$route.path === '/users';\n    }\n  },\n  methods: {\n    toggleManagement() {\n      this.isManagementActive = !this.isManagementActive;\n    }\n  },\n  mounted() {\n    this.initializeJQuery();\n    this.$store.dispatch('user/getUserRolesPermissions');\n  },\n  methods: {\n    initializeJQuery() {\n      $(document).ready(() => {\n        // Any jQuery dependent code can go here\n      });\n    },\n    toggleManagement() {\n      this.isManagementActive = !this.isManagementActive;\n    },\n    can(permission) {\n      return true;\n      return this.userPermissions.includes(permission);\n    },\n    hasRole(role) {\n      console.log(this.userPermissions);\n      const array = Object.entries(this.userPermissions);\n      console.log(array);\n      return this.userRoles.has(role);\n    }\n  }\n};","map":{"version":3,"names":["$","mapGetters","mapActions","data","isManagementActive","computed","userRoles","userPermissions","isDepartmentsActive","$route","path","isUsersActive","methods","toggleManagement","mounted","initializeJQuery","$store","dispatch","document","ready","can","permission","includes","hasRole","role","console","log","array","Object","entries","has"],"sources":["D:\\PROJETS\\LARAVEL\\project-forge-front\\src\\components\\SideBar.vue"],"sourcesContent":["<!-- src/components/Sidebar.vue -->\r\n<template>\r\n    <nav id=\"sidebar\">\r\n      <div class=\"p-4 pt-5\">\r\n        <a href=\"#\" class=\"img logo rounded-circle mb-5\" style=\"background-image: url('/src/assets/sidebar/images/tasks.png');\"></a>\r\n        <ul class=\"list-unstyled components mb-5\">\r\n          <li v-if=\"hasRole('admin')\" :class=\"{ active: isManagementActive }\">\r\n            <a href=\"#homeSubmenu\" @click=\"toggleManagement\" aria-expanded=\"false\">\r\n              Management\r\n              <i class=\"fa fa-angle-down\"></i>\r\n            </a>\r\n            <ul class=\"collapse list-unstyled\" :class=\"{ show: isManagementActive }\" id=\"homeSubmenu\">\r\n              <li v-if=\"can('departments-read')\" :class=\"{ active: isDepartmentsActive }\">\r\n                <router-link to=\"/departments\">Departments</router-link>\r\n              </li>\r\n              <li v-if=\"can('users-read')\" :class=\"{ active: isUsersActive }\">\r\n                <router-link to=\"/users\">Users</router-link>\r\n              </li>\r\n              <li v-if=\"can('roles-read')\">\r\n                <router-link to=\"/roles\">Roles</router-link>\r\n              </li>\r\n              <li v-if=\"can('permissions-read')\">\r\n                <router-link to=\"/permissions\">Permissions</router-link>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n          <li>\r\n            <router-link to=\"/tasks\">Tasks Inbox</router-link>\r\n          </li>\r\n        </ul>\r\n        <div class=\"footer\">\r\n          <p>\r\n            &copy; 2024 All rights reserved | Made with <i class=\"icon-heart\" aria-hidden=\"true\"></i> by <a href=\"#\">rqia</a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  </template>\r\n  \r\n  <script>\r\n  import $ from 'jquery';\r\n  import 'bootstrap';\r\n  import '@/assets/sidebar/js/main'; // Import your custom script\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        isManagementActive: false,\r\n      };\r\n    },\r\n    computed: {\r\n       /* access to getter with mapgetter \r\n        departments : to get departments list\r\n        userRoles : verify roles of this authenticated user \r\n        userPermissions : get the permissions of this user\r\n        errors :  get api errors\r\n        */\r\n        ...mapGetters({            \r\n            userRoles : 'user/userRoles',\r\n            userPermissions : 'user/userPermissions',\r\n        }),\r\n      isDepartmentsActive() {\r\n        return this.$route.path === '/departments';\r\n      },\r\n      isUsersActive() {\r\n        return this.$route.path === '/users';\r\n      }\r\n    },\r\n    methods: {\r\n      toggleManagement() {\r\n        this.isManagementActive = !this.isManagementActive;\r\n      }\r\n    },\r\n    mounted() {\r\n      this.initializeJQuery();\r\n      this.$store.dispatch('user/getUserRolesPermissions');\r\n      \r\n    },\r\n    methods: {\r\n      initializeJQuery() {\r\n        $(document).ready(() => {\r\n          // Any jQuery dependent code can go here\r\n        });\r\n      },\r\n      toggleManagement() {\r\n        this.isManagementActive = !this.isManagementActive;\r\n      },\r\n      can(permission) {\r\n        return true\r\n       return this.userPermissions.includes(permission);\r\n    },\r\n    hasRole(role) {\r\n      console.log(this.userPermissions)\r\n      const array = Object.entries(this.userPermissions)\r\n      console.log(array)\r\n       return this.userRoles.has(role);\r\n    }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  @import \"~@/assets/sidebar/css/style.css\";\r\n  </style>\r\n  "],"mappings":"AAwCE,OAAOA,CAAA,MAAO,QAAQ;AACtB,OAAO,WAAW;AAClB,OAAO,0BAA0B,EAAE;AACrC,SAASC,UAAU,EAAEC,UAAS,QAAS,MAAM;AAE3C,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,kBAAkB,EAAE;IACtB,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACP;;;;;;IAMC,GAAGJ,UAAU,CAAC;MACVK,SAAQ,EAAI,gBAAgB;MAC5BC,eAAc,EAAI;IACtB,CAAC,CAAC;IACJC,mBAAmBA,CAAA,EAAG;MACpB,OAAO,IAAI,CAACC,MAAM,CAACC,IAAG,KAAM,cAAc;IAC5C,CAAC;IACDC,aAAaA,CAAA,EAAG;MACd,OAAO,IAAI,CAACF,MAAM,CAACC,IAAG,KAAM,QAAQ;IACtC;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,gBAAgBA,CAAA,EAAG;MACjB,IAAI,CAACT,kBAAiB,GAAI,CAAC,IAAI,CAACA,kBAAkB;IACpD;EACF,CAAC;EACDU,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,gBAAgB,CAAC,CAAC;IACvB,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,8BAA8B,CAAC;EAEtD,CAAC;EACDL,OAAO,EAAE;IACPG,gBAAgBA,CAAA,EAAG;MACjBf,CAAC,CAACkB,QAAQ,CAAC,CAACC,KAAK,CAAC,MAAM;QACtB;MAAA,CACD,CAAC;IACJ,CAAC;IACDN,gBAAgBA,CAAA,EAAG;MACjB,IAAI,CAACT,kBAAiB,GAAI,CAAC,IAAI,CAACA,kBAAkB;IACpD,CAAC;IACDgB,GAAGA,CAACC,UAAU,EAAE;MACd,OAAO,IAAG;MACX,OAAO,IAAI,CAACd,eAAe,CAACe,QAAQ,CAACD,UAAU,CAAC;IACnD,CAAC;IACDE,OAAOA,CAACC,IAAI,EAAE;MACZC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,eAAe;MAChC,MAAMoB,KAAI,GAAIC,MAAM,CAACC,OAAO,CAAC,IAAI,CAACtB,eAAe;MACjDkB,OAAO,CAACC,GAAG,CAACC,KAAK;MAChB,OAAO,IAAI,CAACrB,SAAS,CAACwB,GAAG,CAACN,IAAI,CAAC;IAClC;EACA;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}