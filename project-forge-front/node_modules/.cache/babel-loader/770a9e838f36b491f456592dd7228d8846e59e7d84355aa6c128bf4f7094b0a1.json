{"ast":null,"code":"import axios from 'axios';\nexport default {\n  getProfile({\n    commit,\n    state\n  }) {\n    state.profileErrors = [];\n    axios.get(\"profile\").then(response => {\n      commit('setProfile', response.data);\n    }).catch(error => {\n      commit('setError', error.response.data);\n    });\n  },\n  updatePassword({\n    commit,\n    state\n  }, payload) {\n    state.profileErrors = [];\n    console.log(payload);\n    axios.post(`profile/passwordUpdate/${payload.id}`, payload).then(response => {\n      console.log(\"password updated successfully:\", response.data);\n    }).catch(error => {\n      if (error.response.status === 422) {\n        // Validation error\n        const errorMessages = Object.values(error.response.data.errors).flat();\n        commit('setError', error.response.data.errors);\n      } else {\n        console.error(\"Error updating password:\", error.response.data.message);\n        commit('setError', [error.response.data.message]);\n      }\n    });\n  }\n};","map":{"version":3,"names":["axios","getProfile","commit","state","profileErrors","get","then","response","data","catch","error","updatePassword","payload","console","log","post","id","status","errorMessages","Object","values","errors","flat","message"],"sources":["D:/PROJETS/LARAVEL/project-forge-front/src/store/profile/actions.js"],"sourcesContent":["import axios from 'axios';\r\nexport default {\r\n    getProfile({commit,state}){\r\n        state.profileErrors = [];\r\n        axios.get(\"profile\")\r\n             .then((response) => {\r\n                 commit('setProfile',response.data)\r\n             })\r\n             .catch((error) => {\r\n                 commit('setError',error.response.data)\r\n             })\r\n    },\r\n    updatePassword({commit,state},payload){\r\n        state.profileErrors = [];\r\n        console.log(payload)\r\n        axios.post(`profile/passwordUpdate/${payload.id}`,payload)\r\n        .then((response) => {\r\n            console.log(\r\n                \"password updated successfully:\",\r\n                response.data\r\n            );\r\n        })\r\n        .catch((error) => {\r\n            if (error.response.status === 422) { // Validation error\r\n                const errorMessages = Object.values(error.response.data.errors).flat();\r\n                commit('setError', error.response.data.errors);\r\n            } else {\r\n                console.error(\"Error updating password:\",  error.response.data.message);\r\n                commit('setError', [error.response.data.message]);\r\n            }\r\n        });\r\n    }\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,eAAe;EACXC,UAAUA,CAAC;IAACC,MAAM;IAACC;EAAK,CAAC,EAAC;IACtBA,KAAK,CAACC,aAAa,GAAG,EAAE;IACxBJ,KAAK,CAACK,GAAG,CAAC,SAAS,CAAC,CACdC,IAAI,CAAEC,QAAQ,IAAK;MAChBL,MAAM,CAAC,YAAY,EAACK,QAAQ,CAACC,IAAI,CAAC;IACtC,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MACdR,MAAM,CAAC,UAAU,EAACQ,KAAK,CAACH,QAAQ,CAACC,IAAI,CAAC;IAC1C,CAAC,CAAC;EACX,CAAC;EACDG,cAAcA,CAAC;IAACT,MAAM;IAACC;EAAK,CAAC,EAACS,OAAO,EAAC;IAClCT,KAAK,CAACC,aAAa,GAAG,EAAE;IACxBS,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;IACpBZ,KAAK,CAACe,IAAI,CAAE,0BAAyBH,OAAO,CAACI,EAAG,EAAC,EAACJ,OAAO,CAAC,CACzDN,IAAI,CAAEC,QAAQ,IAAK;MAChBM,OAAO,CAACC,GAAG,CACP,gCAAgC,EAChCP,QAAQ,CAACC,IACb,CAAC;IACL,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MACd,IAAIA,KAAK,CAACH,QAAQ,CAACU,MAAM,KAAK,GAAG,EAAE;QAAE;QACjC,MAAMC,aAAa,GAAGC,MAAM,CAACC,MAAM,CAACV,KAAK,CAACH,QAAQ,CAACC,IAAI,CAACa,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC;QACtEpB,MAAM,CAAC,UAAU,EAAEQ,KAAK,CAACH,QAAQ,CAACC,IAAI,CAACa,MAAM,CAAC;MAClD,CAAC,MAAM;QACHR,OAAO,CAACH,KAAK,CAAC,0BAA0B,EAAGA,KAAK,CAACH,QAAQ,CAACC,IAAI,CAACe,OAAO,CAAC;QACvErB,MAAM,CAAC,UAAU,EAAE,CAACQ,KAAK,CAACH,QAAQ,CAACC,IAAI,CAACe,OAAO,CAAC,CAAC;MACrD;IACJ,CAAC,CAAC;EACN;AAUJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}