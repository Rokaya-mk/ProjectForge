{"ast":null,"code":"import axios from 'axios';\nexport default {\n  async singIn({\n    dispatch\n  }, credential) {\n    try {\n      const response = await axios.post('login', credential);\n      dispatch('attempt', response.data.access_token);\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  async attempt({\n    commit,\n    state\n  }, token) {\n    try {\n      if (token) {\n        commit('setToken', token);\n      }\n      if (!state.token) {\n        return;\n      }\n      const response = await axios.get('user-profile');\n      commit('setUser', response.data);\n      console.log('success');\n    } catch (error) {\n      console.log(error, 'fail2');\n      commit('setToken', null);\n      commit('setUser', null);\n    }\n  },\n  singnOut({\n    commit\n  }) {\n    return axios.post('logout').then(() => {\n      console.log(\"yes\");\n      commit('setToken', null);\n      commit('setUser', null);\n    });\n  }\n};","map":{"version":3,"names":["axios","singIn","dispatch","credential","response","post","data","access_token","error","console","log","attempt","commit","state","token","get","singnOut","then"],"sources":["D:/PROJETS/LARAVEL/project-forge-front/src/store/auth/actions.js"],"sourcesContent":["import axios from 'axios';\r\nexport default {\r\n    async singIn({ dispatch }, credential) {\r\n        try {\r\n            const response = await axios.post('login', credential);\r\n            dispatch('attempt', response.data.access_token)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    async attempt({ commit, state }, token) {\r\n        try {\r\n            if (token) {\r\n                commit('setToken', token);\r\n            }\r\n            if (!state.token) { return; }\r\n            const response = await axios.get('user-profile');\r\n            commit('setUser', response.data);\r\n            console.log('success')\r\n        } catch (error) {\r\n            console.log(error, 'fail2')\r\n            commit('setToken', null);\r\n            commit('setUser', null);\r\n        }\r\n    },\r\n    singnOut({ commit }) {\r\n        return axios.post('logout').then(() => {\r\n            console.log(\"yes\")\r\n            commit('setToken', null);\r\n            commit('setUser', null);\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,eAAe;EACX,MAAMC,MAAMA,CAAC;IAAEC;EAAS,CAAC,EAAEC,UAAU,EAAE;IACnC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,OAAO,EAAEF,UAAU,CAAC;MACtDD,QAAQ,CAAC,SAAS,EAAEE,QAAQ,CAACE,IAAI,CAACC,YAAY,CAAC;IACnD,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACJ,CAAC;EAED,MAAMG,OAAOA,CAAC;IAAEC,MAAM;IAAEC;EAAM,CAAC,EAAEC,KAAK,EAAE;IACpC,IAAI;MACA,IAAIA,KAAK,EAAE;QACPF,MAAM,CAAC,UAAU,EAAEE,KAAK,CAAC;MAC7B;MACA,IAAI,CAACD,KAAK,CAACC,KAAK,EAAE;QAAE;MAAQ;MAC5B,MAAMV,QAAQ,GAAG,MAAMJ,KAAK,CAACe,GAAG,CAAC,cAAc,CAAC;MAChDH,MAAM,CAAC,SAAS,EAAER,QAAQ,CAACE,IAAI,CAAC;MAChCG,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IAC1B,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,EAAE,OAAO,CAAC;MAC3BI,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC;MACxBA,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC;IAC3B;EACJ,CAAC;EACDI,QAAQA,CAAC;IAAEJ;EAAO,CAAC,EAAE;IACjB,OAAOZ,KAAK,CAACK,IAAI,CAAC,QAAQ,CAAC,CAACY,IAAI,CAAC,MAAM;MACnCR,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;MAClBE,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC;MACxBA,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC;IAC3B,CAAC,CAAC;EACN;AAUJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}