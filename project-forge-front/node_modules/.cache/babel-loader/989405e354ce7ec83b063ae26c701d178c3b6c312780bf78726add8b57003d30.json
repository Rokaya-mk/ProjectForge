{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_FlashMessage = _resolveComponent(\"FlashMessage\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_FlashMessage, {\n    ref: \"flashMessage\"\n  }, null, 512 /* NEED_PATCH */), _createCommentVNode(\" <div class=\\\"row\\\" v-if=\\\"authenticated\\\">\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n        <h1>Permissions</h1>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6\\\">\\r\\n        <router-link class=\\\"btn btn-success mt-2 float-right\\\" :to=\\\"{name: 'create-permission'}\\\">\\r\\n            Create New Permission\\r\\n        </router-link>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" >\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"table-responsive\\\">\\r\\n            <table class=\\\"table table-hover\\\">\\r\\n                <thead>\\r\\n                    <tr>\\r\\n                        <th>#</th>\\r\\n                        <th>Name</th>\\r\\n                        <th>Display Name</th>\\r\\n                        <th>Description</th>\\r\\n                        <th v-if=\\\"userPermissions.has('permissions-update','permissions-delete')\\\">\\r\\n                            Actions\\r\\n                        </th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                        <tr v-for=\\\"(permission, index) in permissions.data\\\" :key=\\\"index\\\">\\r\\n                            <td>{{index + 1}}</td>\\r\\n                            <td>{{ permission.name }}</td>\\r\\n                            <td>{{ permission.display_name }}</td>\\r\\n                            <td>{{ permission.description }}</td>\\r\\n                            <td v-if=\\\"userPermissions.has('permissions-update')\\\">\\r\\n                                <div class=\\\"d-inline-block\\\">\\r\\n                                    <router-link :to=\\\"{name:'edit-permission' ,params :{id: permission.id} }\\\" class=\\\"btn btn-success mr-2\\\">\\r\\n                                        <i class=\\\"fa fa-edit\\\"></i>\\r\\n                                    </router-link>\\r\\n                                </div>\\r\\n                                <button class=\\\"btn btn-danger mx-1\\\"\\r\\n                                        v-if=\\\"userPermissions.has('permissions-delete')\\\"\\r\\n                                        @click=\\\"deletepermission(permission)\\\">\\r\\n                                        <i class=\\\"fa fa-trash\\\"></i>\\r\\n                                </button>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n</div> \")], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_createVNode","_component_FlashMessage","ref","_createCommentVNode"],"sources":["D:\\PROJETS\\LARAVEL\\project-forge-front\\src\\views\\managment\\permissions\\index.vue"],"sourcesContent":["<template  lang=\"\">\r\n    <FlashMessage ref=\"flashMessage\"></FlashMessage>\r\n<!-- <div class=\"row\" v-if=\"authenticated\">\r\n    <div class=\"col-md-6\">\r\n        <h1>Permissions</h1>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n        <router-link class=\"btn btn-success mt-2 float-right\" :to=\"{name: 'create-permission'}\">\r\n            Create New Permission\r\n        </router-link>\r\n    </div>\r\n</div>\r\n<div class=\"row\" >\r\n    <div class=\"col-md-12\">\r\n        <div class=\"table-responsive\">\r\n            <table class=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>Name</th>\r\n                        <th>Display Name</th>\r\n                        <th>Description</th>\r\n                        <th v-if=\"userPermissions.has('permissions-update','permissions-delete')\">\r\n                            Actions\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                        <tr v-for=\"(permission, index) in permissions.data\" :key=\"index\">\r\n                            <td>{{index + 1}}</td>\r\n                            <td>{{ permission.name }}</td>\r\n                            <td>{{ permission.display_name }}</td>\r\n                            <td>{{ permission.description }}</td>\r\n                            <td v-if=\"userPermissions.has('permissions-update')\">\r\n                                <div class=\"d-inline-block\">\r\n                                    <router-link :to=\"{name:'edit-permission' ,params :{id: permission.id} }\" class=\"btn btn-success mr-2\">\r\n                                        <i class=\"fa fa-edit\"></i>\r\n                                    </router-link>\r\n                                </div>\r\n                                <button class=\"btn btn-danger mx-1\"\r\n                                        v-if=\"userPermissions.has('permissions-delete')\"\r\n                                        @click=\"deletepermission(permission)\">\r\n                                        <i class=\"fa fa-trash\"></i>\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div> -->\r\n</template>\r\n<script>\r\nimport FlashMessage from \"@/components/FlashMessage.vue\";\r\nimport { mapActions, mapGetters } from 'vuex';\r\n\r\nexport default {\r\ncomponents:{\r\n    FlashMessage\r\n},\r\ndata(){\r\n    return{\r\n\r\n    }\r\n},\r\ncomputed: {\r\n     /* access to getter with mapgetter \r\n    userPermissions : get the permissions of this user\r\n    */\r\n    ...mapGetters({    \r\n        'authenticated' : 'auth/authenticated',  \r\n        'userPermissions' : 'user/userPermissions',\r\n        'permissions' : 'permission/permissions',\r\n\r\n    }),\r\n},\r\nmounted(){\r\n    \r\n    this.getPermissions()\r\n    this.$store.dispatch('user/getUserRolesPermissions');\r\n  \r\n},\r\nmethods: {\r\n    ...mapActions({\r\n        'setFlashMessage' : 'flash/setFlashMessage',\r\n    }),\r\n    // get permission list\r\n    getPermissions() {\r\n        this.$store.dispatch(\"permission/getPermissions\");\r\n    },\r\n    // delete permission\r\n    deletePermission(permission) {\r\n        if (confirm(\"Are you sure you want to delete permission!\")) {\r\n            this.$store\r\n                .dispatch(\"permission/deletePermission\", permission)\r\n                .then(() => {\r\n                    this.setFlashMessage({ message: 'permission was Deleted !!', type: 'alert-success' });\r\n                    this.getPermissions();\r\n                });\r\n        }\r\n    },   \r\n},\r\n}\r\n</script>\r\n<style lang=\"\">\r\n\r\n</style>"],"mappings":";;;uBAAAA,mBAAA,CAAAC,SAAA,SACIC,YAAA,CAAgDC,uBAAA;IAAlCC,GAAG,EAAC;EAAc,gCACpCC,mBAAA,yyEAgDU,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}