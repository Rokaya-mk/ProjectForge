{"ast":null,"code":"import store from '@/store';\nimport axios from 'axios';\nstore.subscribe(mutation => {\n  if (mutation.type === 'setToken') {\n    console.log('subs');\n    if (mutation.payload) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${mutation.payload}`;\n      localStorage.setItem('token', mutation.payload);\n    } else {\n      axios.defaults.headers.common['Authorization'] = null;\n      localStorage.removeItem('token');\n    }\n  }\n});","map":{"version":3,"names":["store","axios","subscribe","mutation","type","console","log","payload","defaults","headers","common","localStorage","setItem","removeItem"],"sources":["D:/PROJETS/LARAVEL/project-forge-front/src/store/subscriber.js"],"sourcesContent":["import store from '@/store';\r\nimport axios from 'axios';\r\n\r\nstore.subscribe((mutation) => {\r\n    if(mutation.type === 'setToken'){\r\n        console.log('subs')\r\n        if(mutation.payload){\r\n            axios.defaults.headers.common['Authorization'] = `Bearer ${mutation.payload}` ;\r\n            localStorage.setItem('token',mutation.payload)\r\n        }\r\n        else{\r\n            axios.defaults.headers.common['Authorization'] = null;\r\n            localStorage.removeItem('token')\r\n        }\r\n    }\r\n})"],"mappings":"AAAA,OAAOA,KAAK,MAAM,SAAS;AAC3B,OAAOC,KAAK,MAAM,OAAO;AAEzBD,KAAK,CAACE,SAAS,CAAEC,QAAQ,IAAK;EAC1B,IAAGA,QAAQ,CAACC,IAAI,KAAK,UAAU,EAAC;IAC5BC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnB,IAAGH,QAAQ,CAACI,OAAO,EAAC;MAChBN,KAAK,CAACO,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAI,UAASP,QAAQ,CAACI,OAAQ,EAAC;MAC7EI,YAAY,CAACC,OAAO,CAAC,OAAO,EAACT,QAAQ,CAACI,OAAO,CAAC;IAClD,CAAC,MACG;MACAN,KAAK,CAACO,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,IAAI;MACrDC,YAAY,CAACE,UAAU,CAAC,OAAO,CAAC;IACpC;EACJ;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}