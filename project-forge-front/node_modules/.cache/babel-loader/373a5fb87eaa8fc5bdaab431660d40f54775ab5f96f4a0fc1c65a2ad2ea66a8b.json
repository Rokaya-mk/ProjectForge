{"ast":null,"code":"import axios from 'axios';\nexport default {\n  async singIn({\n    dispatch\n  }, credential) {\n    try {\n      const response = await axios.post('login', credential);\n      console.log(\"tt\");\n      console.log(response);\n      dispatch('attempt', response.data.token);\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  async attempt({\n    commit,\n    state\n  }, token) {\n    try {\n      if (token) {\n        commit('setToken', token);\n      }\n      if (!state.token) {\n        return;\n      }\n      const response = await axios.get('user-profile');\n      commit('setUser', response.data);\n      // console.log(response.data)\n      console.log('success');\n    } catch (error) {\n      console.log(error, 'fail2');\n      commit('setToken', null);\n      commit('setUser', null);\n    }\n  },\n  singnOut({\n    commit\n  }) {\n    return axios.post('logout').then(() => {\n      console.log(\"yes\");\n      commit('setToken', null);\n      commit('setUser', null);\n    });\n  }\n};","map":{"version":3,"names":["axios","singIn","dispatch","credential","response","post","console","log","data","token","error","attempt","commit","state","get","singnOut","then"],"sources":["D:/PROJETS/LARAVEL/project-forge-front/src/store/auth/actions.js"],"sourcesContent":["import axios from 'axios';\r\nexport default {\r\n    async singIn({ dispatch }, credential) {\r\n        try {\r\n            const response = await axios.post('login', credential);\r\n            console.log(\"tt\")\r\n            console.log(response)\r\n            dispatch('attempt', response.data.token)\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    },\r\n\r\n    async attempt({ commit, state }, token) {\r\n        try {\r\n            if (token) {\r\n                commit('setToken', token);\r\n            }\r\n            if (!state.token) { return; }\r\n            const response = await axios.get('user-profile');\r\n            commit('setUser', response.data);\r\n            // console.log(response.data)\r\n            console.log('success')\r\n        } catch (error) {\r\n            console.log(error, 'fail2')\r\n            commit('setToken', null);\r\n            commit('setUser', null);\r\n        }\r\n    },\r\n    singnOut({ commit }) {\r\n        return axios.post('logout').then(() => {\r\n            console.log(\"yes\")\r\n            commit('setToken', null);\r\n            commit('setUser', null);\r\n        })\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,eAAe;EACX,MAAMC,MAAMA,CAAC;IAAEC;EAAS,CAAC,EAAEC,UAAU,EAAE;IACnC,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,OAAO,EAAEF,UAAU,CAAC;MACtDG,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;MACjBD,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;MACrBF,QAAQ,CAAC,SAAS,EAAEE,QAAQ,CAACI,IAAI,CAACC,KAAK,CAAC;IAC5C,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;IACtB;EACJ,CAAC;EAED,MAAMC,OAAOA,CAAC;IAAEC,MAAM;IAAEC;EAAM,CAAC,EAAEJ,KAAK,EAAE;IACpC,IAAI;MACA,IAAIA,KAAK,EAAE;QACPG,MAAM,CAAC,UAAU,EAAEH,KAAK,CAAC;MAC7B;MACA,IAAI,CAACI,KAAK,CAACJ,KAAK,EAAE;QAAE;MAAQ;MAC5B,MAAML,QAAQ,GAAG,MAAMJ,KAAK,CAACc,GAAG,CAAC,cAAc,CAAC;MAChDF,MAAM,CAAC,SAAS,EAAER,QAAQ,CAACI,IAAI,CAAC;MAChC;MACAF,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IAC1B,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZJ,OAAO,CAACC,GAAG,CAACG,KAAK,EAAE,OAAO,CAAC;MAC3BE,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC;MACxBA,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC;IAC3B;EACJ,CAAC;EACDG,QAAQA,CAAC;IAAEH;EAAO,CAAC,EAAE;IACjB,OAAOZ,KAAK,CAACK,IAAI,CAAC,QAAQ,CAAC,CAACW,IAAI,CAAC,MAAM;MACnCV,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;MAClBK,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC;MACxBA,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC;IAC3B,CAAC,CAAC;EACN;AAUJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}